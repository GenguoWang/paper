\chapter{绪论}
\label{chap:introduction}

在本章我们先是介绍了
“云搜索正确性快速验证系统的设计与实现
”这一课题的研究背景和研究意义。随着这些年网络普及程度的迅速增加，云计算的应用也变得越来越普遍。很多个人和企业都选择把文档数据存放在云服务上。云服务上的文档搜索这一功能也变得越来越重要。如果能解决云搜索的正确性验证问题，我们就可以让那些担心云计算正确性无法保证的用户也可以安心使用这一功能。这也将使得云计算的应用范围变得更加广泛。

在本章我们还简单地阐述了与本课题研究相关的文档搜索、验证计算等相关领域的近年来的研究现状。然后还介绍了本课题的研究内容。最后介绍了本论文后续章节的内容和结构安排。

\section{研究背景和意义}
随着计算机硬件和网络的不断发展，计算机的使用方式也慢慢的发生了变化，之前的单机使用习惯已经越来越淡化，而对于网络则变得越来越依赖。人们从网络上获取最新的信息咨询，与他人随时随地交流，快速便捷地购物。随着网络服务的百花齐放，新的计算方式云计算也随之蓬勃发展。

云计算\upcite{CloudComputing}是通过网络进行相关服务的部署，使得用户可以远程的在线访问这些服务，例如数据存储、弹性计算。云计算提供商通常使用计算机集群来提供这些服务，并通过虚拟化的方式进行多个用户间资源的共享。与租用硬件不同，云计算按照资源的使用进行计价，这样用户无需担心自己计算需求的变化导致硬件资源的浪费。而云服务商通过资源共享，可以最大化的榨取硬件资源的利用价值。云计算使得计算能力变得像电、燃气一样可以流通和销售，用户只需按需购买。

云计算有着大规模、虚拟化、高可靠性、通用性、高扩展性、廉价的特点。得益于这些特点，越来越多的个人和企业选择把数据存放到的云存储上，把自己的业务部署到云计算上。目前各大厂商比如亚马逊、微软、谷歌、阿里云都给用户提供了云计算服务。

云计算其中的一种服务方式是给用户提供数据的存储服务。用户可以把自己的数据放到云平台上，然后只要能在能够访问互联网的环境下，用户就可以随时随地使用任意设备访问自己的数据，方便的进行读写、同步、更新等操作。除了读写这些操作，能够对云存储服务上的数据进行搜索也是用户急切需要的功能。

但和本地环境不同，云计算有着潜在的危险性\upcite{CloudComputing}。在享受云计算带来的便利时，我们要怎么才能保证我们得到的是我们真正想要的呢？
比如对于云上的搜索任务，我们怎么保证它真的是按照我们的要求完成任务的呢？目前各大厂商都没有提供一种可以让用户进行验证的机制。云搜索可能会由于服务商的硬件错误\upcite{ref14}，算法错误，或者是受到黑客攻击导致搜索结果是错误的。而没有验证机制，用户可能在毫无察觉的情况下使用了错误的搜索结果而蒙受损失。而且云搜索需要耗费服务商的大量计算资源，服务商为了节省资源可能恶意的只进行部分计算\upcite{ref32}，只返回不完整的结果给用户。这让用户的利益更加无法得到保障。

这些风险的存在，导致很多对安全性正确性比较在意的用户只能放弃了云存储，使得他们无法享用云计算带来的那些好处。而服务商也因此失去了不少用户资源。
针对这些情况，如果能找到一种低成本的验证方式，那么就可以很好的解决了这个问题。设想有一种方式，服务商只要付出在承受内的额外计算和存储压力，就可以为每一次的搜索计算出一个证明返回给用户。同时用户也可以快速有效地用这个证明进行结果正确性验证，而不至于影响到用户体验。这对于云计算服务商以及用户都是非常有意义的。

\section{国内外研究现状}
本节我们介绍下关于文档搜索与结果验证方面的国内外研究现状。

\subsection{文档搜索}
云存储上的文档搜索和本地的文档搜索没有什么本质的区别。这一块已经积累了很多研究，已经有了很多成熟的产品。对于不同的搜索方法，验证结果的正确性的方法也有很大的差异。所以我们打算只选择一种最普遍的全文搜索的方法\upcite{blair1985evaluation}来进行我们的研究：先对文档进行预处理，然后建立倒排索引\upcite{voorhees1986efficiency}。通过倒排索引进行多关键词的搜索。

倒排索引的做法是：对于每一个文档，分离出它的单词（Term）列表$\{w_1,w_2,w_3,...\}$。然后对于所有出现过的单词，建立其出现过的文档列表作为反向索引：$w \to \{doc_1,doc_2,...\}$。这样，如果搜索关键词$w_1$，只需要在反向索引中找到$w_1$对应的文档列表即可。一般对于搜索结果都要进行排序操作，这就需要考虑单词和文档的权重问题。一般我们可以用TF-IDF（term frequency-inverse document frequency）为权重。
\subsection{搜索结果验证}
验证或者保证第三方计算的正确性并不是一个新的方向。在早期，交互式证明系统\upcite{babai1985trading}就被提出来用于证明第三方计算的正确性。交互式证明系统分为一个假设计算力无限的证明者和计算力有限的验证者。通过类似提问回答的交互方式，证明者试图证明它给出的结论是正确的，而验证者则要判断证明者的结论是否是可信的。Arthur–Merlin协议\upcite{babai1985trading}实现了一种概率上宽容了的交互性验证系统。还有一类是概率验证模型\upcite{arora1998probabilistic}，它通过随机的检测一些部分的结论，来一定概率上确定该结论是否是正确的。最近的在这两类上一些研究在时间空间复杂度上有着极大的提高。但是生成证明还是比计算出结果要耗费上一个数量级以上的时间，这极大的影响了它们的可用性。除了验证计算结果这一方式外，也有研究提供一些计算结果保证正确的机制\upcite{ref2,parno2011bootstrapping}。比如在执行前验证可执行文件的完整性，提供第三方监控层监控执行过程。但这无法保证云计算提供商或者破坏分子不去攻击内存中的数据，或者更改执行结果。具体到验证云计算搜索结果正确性验证，有研究提供了一种使用不可逆哈希强迫云计算\upcite{sion2005query}提供商要进行正确的搜索计算才能给出哈希验算结果。该方法有不错的时间效率，但是也有很多局限性，比如不能支持单个搜索。

文章\cite{benabbas2011verifiable}提出了一种基于公私钥加密的计算验证体系。文章中介绍了一种简单的验证关键词搜索的方法。对于文本文件$F = \{w_0,w_1,...,w_d\}$，$w_i$表示文件F中出现的单词。客户把该文件存放在服务端，之后会向服务端给出一个单词w，询问服务端该单词是否在文本文件F中出现。为了对服务端给出的结果进行验证，文章提出了一种简便的方法：
对每一个出现在文本文件F中的单词w，计算$MAC_k(w)$并将该值一起上传到服务器。MAC(Message Authentication Code)是一种私钥加密的算法，该加密的值服务端是无法伪造的。这样，服务端给出w属于F时，需要同时给客户端返回$MAC_k(w)$值。用户检查$MAC_k(w)$确实是w正确计算的MAC值，则可以证明w确实属于文本文件F。对于不属于文件F的w值，服务器采用返回特殊值$\perp$表示。关于如何防止服务端对于属于F的w，也返回$\perp$。文章中提出一种计算那些不属于F的单词的前缀，并上传它们的MAC值。对于w不属于F的情况，服务端需要返回w对于的那个不属于F的单词前缀的MAC值来确认。该文章提的这个方法应用场景非常简单，但却给了我们一个非常好的思路。

\subsection{数据安全}
云存储依赖于第三方，难免会涉及敏感数据，数据安全是云计算研究中的关键问题。有研究在不安全存储上建立安全文件系统\upcite{bessani2013depsky}。为了保证数据的隐私性，可以采用对称加密方法（比如，AES）对数据加密之后进行上传，这样就可以保证除了密钥拥有者，别人无法看到数据的明文。

涉及到搜索，我们可能要需要把索引文件上传到服务端。为了保证索引的安全性，有研究给出，可以使用对称加密给索引的每个关键词都加密\upcite{zerr2008zerber}，这样就可以防止信息泄露。对于词频信息，有研究指出可以将不同关键词进行组合来进行伪造隐藏\upcite{zerr2008zerber}。

涉及到搜索，我们可能需要把索引文件上传到服务端。
为了保证索引的安全性，有研究给出，可以使用对称加密给索引的每个关键词都加密\upcite{zerr2008zerber}，这样就可以防止关键词信息泄露。
对于关键词搜索，普遍的做法是使用倒排索引。即使是关键词加密了的倒排索引，还是会泄露词频信息。
通过词频信息，已有成熟的研究可以从中还原出很多原文的内容。
所以词频信息也需要保护起来。文章\cite{zerr2008zerber}提出了一种将不同关键词的索引进行组合来隐藏词频信息的方法。
比如对于关键词t1和t2的反向索引项$t1 \to \{doc_{1,1},doc_{1,2},doc_{1,3},...,doc_{1,n}\}$， $t2 \to \{doc_{2,1},doc_{2,2},doc_{2,3},...,doc_{2,m}\}$。如果不进行处理，那么可以轻易的看出t1出现在n个文档里，t2出现在m个文档里，词频信息就这样泄露了。该文章中的方法是把t1和t2的索引项组合，并在索引信息里面加入关键词信息，最后得到类似这样的索引项：$t1,t2 \to \{doc_{1,1}\#t1,doc_{2,1}\#t2,doc_{1,2}\#t1,doc_{2,2}\#t2,...\}$。这样的索引经过加密后，t1和t2的词频信息就被隐藏起来了。当然，这样的做法也给我们带来了额外的开销：进行关键词搜索时，我们还需要对从索引里找到的文档列表再进行一次关键词匹配，来最后确定是否是搜索关键词对应的文档。

\section{研究内容}
本课题针对目前现有的搜索验证方式没有一个高效的可以扩展的系统的现状，设计并实现了一个对现有的验证方式进行了效率上的提高，实用性增强的系统。

现有的一些验证方法，多数都只是一些比较抽象的数学和逻辑上的框架，比较缺乏实际可用的系统。少数的代码实现中，基本都是比较直接的计算，没有进行一些系统的设计和一些结构的更改来进行优化。为了实现一个高效的云搜索验证系统，我们主要从事了搜索及验证算法的选择、验证系统的设计和验证系统的优化这几个方面的研究。具体的研究成果在后续章节会进行详细介绍。

\section{论文结构}
本论文主要描述了我们的云搜索正确性快速验证系统的设计与实现，并着重描述其中的整体框架与一些比较重要的细节设计。

余下的部分组织如下。
第\ref{chap:relatedwork}章介绍了本课题涉及到的相关工作，主要介绍了RSA Accumulator、一套基于RSA Accumulator的集合求交集验证方法和一套基于单向加密哈希的验证机制。
第\ref{chap:application}章分析了云计算快速验证系统的特点，并根据这些特点设想了我们的系统可能的应用场景。
第\ref{chap:design}章介绍了我们的验证机制的设计。主要介绍一种基于RSA Accumulator的验证机制，还介绍了一种基于采样的验证机制。
第\ref{chap:implementation}章描述了我们系统的整体架构，介绍了系统中的重要模块和用于提升系统效率的树状结构证明，还介绍一个用于树状结构证明的轻量级并行计算框架。
第\ref{chap:evaluation}章通过实验对本系统作出评估，介绍了实验的环境、实验所用的数据集和实验的结果，以及对实验结果的分析总结。
第\ref{chap:conclusion}章对本课题进行简要的总结以及对本课题的后续研究做了展望和介绍了一些后续研究的可行方向。


\section{本章小结}
本章介绍了我们课题的研究背景和研究意义。
在目前云计算蓬勃发展的现状下，很多用户选择把数据存储到云服务上，
随时随地进行访问查询。
由于云计算有潜在的危险性，用户需要的查询结果可能会是错误的，
并导致用户利益承受损失。
而目前没有一个通用的高效的系统来保证用户搜索结果的正确性。
针对这一问题，我们设计并实现了一个较为高效、易于扩展的系统。
本章还介绍了对于本课题相关的文档搜索和计算验证方面的研究现状。
在最后，本章对于本论文的后续章节的内容和结构做了简单的介绍。
